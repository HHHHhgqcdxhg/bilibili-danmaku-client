{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/buffer/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./node_modules/@std4453/bilibili-danmaku-client/src/sectors.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/lodash.defaultsdeep/index.js","webpack:///./node_modules/@std4453/bilibili-danmaku-client/src/transformers.js","webpack:///./node_modules/@std4453/bilibili-danmaku-client/src/middlewares.js","webpack:///./node_modules/lodash.isequal/index.js","webpack:///./node_modules/@std4453/bilibili-danmaku-client/src/encoding.js","webpack:///./node_modules/x-platform-ws/src/browser.js","webpack:///./node_modules/buffer/node_modules/isarray/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/@std4453/bilibili-danmaku-client/src/SectorSocket.js","webpack:///./node_modules/@std4453/bilibili-danmaku-client/src/DanmakuClient.js","webpack:///./node_modules/@std4453/bilibili-danmaku-client/src/index.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/debug/src/debug.js","webpack:///./node_modules/process/browser.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","global","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","length","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","this","Error","allocUnsafe","from","TypeError","ArrayBuffer","array","byteOffset","byteLength","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","obj","isBuffer","len","checked","copy","buffer","val","type","data","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","swap","b","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","push","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64Slice","start","end","fromByteArray","utf8Slice","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","e","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","arguments","hexSlice","asciiSlice","latin1Slice","utf16leSlice","equals","inspect","max","match","join","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","Array","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","g","Function","eval","window","_typeof","EventEmitter","_events","_maxListeners","isFunction","isObject","isUndefined","defaultMaxListeners","setMaxListeners","emit","er","handler","args","listeners","error","err","context","addListener","listener","newListener","warned","console","trace","on","once","fired","removeListener","position","splice","removeAllListeners","listenerCount","evlistener","emitter","load","storage","debug","process","env","DEBUG","log","formatArgs","useColors","namespace","humanize","diff","color","index","lastC","save","namespaces","removeItem","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","RegExp","$1","chrome","local","localStorage","localstorage","colors","formatters","v","JSON","stringify","message","enable","charset","Sector","decode","Class","JSONSector","_classCallCheck","_this","_possibleConstructorReturn","getPrototypeOf","parse","RawSector","_this2","HeartbeatSector","HeartbeatAckSector","DataSector","InitSector","InitAckSector","webpackPolyfill","deprecate","paths","children","LARGE_ARRAY_SIZE","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","boolTag","dateTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reFlags","reIsHostCtor","reIsUint","typedArrayTags","cloneableTags","freeGlobal","freeSelf","self","root","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","binding","nodeIsTypedArray","isTypedArray","addMapEntry","map","pair","addSetEntry","add","func","thisArg","arrayEach","iteratee","arrayReduce","accumulator","initAccum","isHostObject","result","mapToArray","forEach","overArg","transform","setToArray","uid","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","exec","keys","IE_PROTO","funcToString","objectCtorString","objectToString","reIsNative","getPrototype","objectCreate","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","nativeKeys","nativeMax","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","clear","entry","ListCache","MapCache","Stack","__data__","arrayLikeKeys","inherited","isArguments","baseTimes","skipIndexes","isIndex","assignMergeValue","eq","assignValue","objValue","assocIndexOf","baseClone","isDeep","isFull","customizer","stack","isArr","constructor","input","initCloneArray","copyArray","tag","getTag","isFunc","cloneBuffer","isPrototype","proto","initCloneObject","source","copyObject","getSymbols","copySymbols","baseAssign","cloneFunc","Ctor","cloneArrayBuffer","dataView","cloneDataView","typedArray","cloneTypedArray","cloneMap","regexp","lastIndex","cloneSet","symbol","initCloneByTag","stacked","props","keysFunc","symbolsFunc","values","arrayPush","baseGetAllKeys","getAllKeys","subValue","baseIsNative","test","baseKeysIn","nativeKeysIn","isProto","baseMerge","srcIndex","srcValue","mergeFunc","newValue","isCommon","isArrayLikeObject","isObjectLike","isPlainObject","isArrayLike","toPlainObject","baseMergeDeep","baseRest","otherArgs","arrayBuffer","getMapData","getValue","has","pop","hash","cache","pairs","mergeDefaults","other","resolve","ctorString","isLength","defaultsDeep","mergeWith","baseKeys","assigner","sources","guard","isIterateeCall","fn","mapped","compile","compiled","transformer","asFlag","onWhen","mapper","predicate","exists","onExist","convertNames","_len","names","_key","nameOrArr","_nameOrArr","_slicedToArray","spread","converted","spreadObj","filter","_ref","danmuMsg","info","timestamp","content","sender","badge","ul","ranking","u","level","medal","sysMsg","msgText","msg_text","realRoomId","real_roomid","roomId","roomid","userSrc","guardLevel","guard_level","uname","parseTopUser","sendGift","_extends","left","gold","silver","topList","top_list","coinType","coin_type","totalCoin","total_coin","superGiftNum","super_gift_num","effectBlock","effect_block","roomRank","rank","rank_desc","h5Url","h5_url","webUrl","web_url","welcome","isAdmin","is_admin","isVip","vip","svip","isSvip","welcomeGuard","username","comboEnd","price","gitId","gift_id","giftName","gift_name","comboNum","combo_num","owner","r_uname","startTime","start_time","endTime","end_time","Transformer","transformers","DANMU_MSG","SYS_MSG","SEND_GIFT","ROOM_RANK","WELCOME","WELCOME_GUARD","COMBO_END","_private","events","all","Middleware","config","defaultConf","configFn","ws","conf","client","merged","middlewares","sendInitial","send","initial","room","protover","platform","clientver","invokeTransformer","sector","msg","cmd","logUntransformed","sendHeartbeat","heartbeat","enabled","handle","setInterval","interval","clearInterval","logLifecycle","logging","url","reason","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","arrayTag","asyncTag","errorTag","nullTag","proxyTag","undefinedTag","arraySome","nativeObjectToString","symToStringTag","SetCache","isArg","isBuff","isType","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othLength","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","seen","arrValue","othIndex","resIndex","arrayFilter","baseUnary","isEqual","sector2meta","control","encodeOne","encode","metadata","header","decodeOne","find","newOffset","sectors","_decodeOne","callWhenExist","synchronize","readonly","writable","MockWebSocket","protocols","WebSocket","addEventListener","onopen","onclose","onerror","event","transformed","transformMessage","transformedEvent","MessageEvent","origin","lastEventId","ports","onmessage","binaryType","_","callback","close","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","num","output","SectorSocket","options","onMessage","eventName","middleware","onBuffer","el","terminate","manageLifecycle","checkTerminate","state","setState","closeAction","keepAlive","reconnStr","reconnectInterval","toFixed","setTimeout","connect","rejectUnauthorized","DanmakuClient","socket","_toConsumableArray","h","plural","ms","ceil","parseFloat","long","round","fmtShort","createDebug","prevTime","curr","Date","prev","coerce","unshift","format","formatter","selectColor","destroy","init","instances","disable","skips","split","instance","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","version","versions","off","prependListener","prependOnceListener","cwd","chdir","umask","_debug2","default"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\r\n * The sectors module.\r\n * This module contains class definitions for all the sectors.\r\n *\r\n * There are currently 5 types of sectors:\r\n * 1. Heartbeat sector.\r\n * 2. Heartbeat ACK sector.\r\n * 3. JSON data sector.\r\n * 4. Initialization sector.\r\n * 5. Initialization ACK sector.\r\n *\r\n * On establishment of WebSocket connection, the client sends an initialization sector,\r\n * and the server responds with an initialization ACK sector. If an initialization sector\r\n * was not send in the first 5 seconds, the connection will be closed.\r\n * Then, every 30 seconds, the client sends a heartbeat sector, and the server\r\n * responds with a heartbeat ACK sector.\r\n * During the time the connection is open, the server will send JSON data sectors\r\n * occasionlly, containing necessary data.\r\n *\r\n * It is designed that the classes in sectors.js do not know how and when these sectors\r\n * are send and received, but only their logical definitions: What / what type of data they\r\n * contain, and how should the data be encoded into binary code, that is, only the CONTENT\r\n * part of the whole sector. Other work is left to encoding.js to do.\r\n *\r\n * To identify different types of sectors, only these classes should be used, and not any\r\n * other string-ish representation.\r\n *\r\n * @module biliDanmakuClient/sectors\r\n */\r\n\r\nconst { Buffer } = require('buffer');\r\n\r\nconst charset = 'utf8';\r\n\r\n/** Base class for all sector types */\r\nclass Sector {\r\n    /**\r\n     * Encode this Sector into a Buffer object.\r\n     * This is an abstract method and should be overridden by implementations\r\n     * extending Sector.\r\n     */\r\n    encode() { throw new Error('Not implemented.'); } // eslint-disable-line class-methods-use-this\r\n}\r\n/**\r\n * Class method, decode the Buffer object into a Sector object of the given type.\r\n * Normally, this should be used like:\r\n *    MySector.decode(MySector, buf);\r\n * While the Class argument is still provided to enable overriding, as seen in JSONSector.\r\n * This is an abstract method and should be overridden by implementations extending Sector.\r\n *\r\n * @param {Function} Class The constructor of the target Sector class.\r\n * @param {Buffer} buf The buffer to decode.\r\n */\r\nSector.decode = (Class, buf) => { throw new Error('Not implemented.'); }; // eslint-disable-line no-unused-vars\r\n\r\n/** Base class for all JSON-based sector types */\r\nclass JSONSector extends Sector {\r\n    constructor(data) { super(); this.data = data; }\r\n    encode() { return Buffer.from(JSON.stringify(this.data), charset); }\r\n}\r\nJSONSector.decode = (Class, buf) => new Class(JSON.parse(buf.toString(charset)));\r\n\r\n/** Base class for all raw-buffer-based sector types */\r\nclass RawSector extends Sector {\r\n    constructor(buf) { super(); this.buf = buf; }\r\n    encode() { return this.buf; }\r\n}\r\nRawSector.decode = (Class, buf) => new Class(buf);\r\n\r\nclass HeartbeatSector extends RawSector {\r\n    constructor() { super(Buffer.from('[object Object]', charset)); }\r\n}\r\n\r\nclass HeartbeatAckSector extends RawSector {\r\n    constructor() { super(Buffer.from([0x00, 0x00, 0x00, 0x00])); }\r\n}\r\n\r\nclass DataSector extends JSONSector {} // inherit constructor\r\n\r\nclass InitSector extends JSONSector {} // inherit constructor\r\n\r\nclass InitAckSector extends RawSector {\r\n    constructor() { super(Buffer.alloc(0)); } // with empty CONTENT part\r\n}\r\n\r\nmodule.exports = {\r\n    Sector,\r\n    RawSector,\r\n    JSONSector,\r\n    HeartbeatSector,\r\n    HeartbeatAckSector,\r\n    DataSector,\r\n    InitSector,\r\n    InitAckSector,\r\n};\r\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (typeof key == 'number' && value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  if (!(isArray(source) || isTypedArray(source))) {\n    var props = baseKeysIn(source);\n  }\n  arrayEach(props || source, function(srcValue, key) {\n    if (props) {\n      key = srcValue;\n      srcValue = source[key];\n    }\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(object[key], srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  });\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = object[key],\n      srcValue = source[key],\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    newValue = srcValue;\n    if (isArray(srcValue) || isTypedArray(srcValue)) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else {\n        isCommon = false;\n        newValue = baseClone(srcValue, true);\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        isCommon = false;\n        newValue = baseClone(srcValue, true);\n      }\n      else {\n        newValue = objValue;\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction mergeDefaults(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, objValue);\n    baseMerge(objValue, srcValue, undefined, mergeDefaults, stack);\n    stack['delete'](srcValue);\n  }\n  return objValue;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n * // => { 'a': { 'b': 2, 'c': 3 } }\n */\nvar defaultsDeep = baseRest(function(args) {\n  args.push(undefined, mergeDefaults);\n  return apply(mergeWith, undefined, args);\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with seven arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = defaultsDeep;\n","// compiler\r\nconst map = (obj, fn) => {\r\n    const mapped = {};\r\n    Object.keys(obj).forEach((key) => { mapped[key] = fn(obj[key]); });\r\n    return mapped;\r\n};\r\nconst compile = (src) => {\r\n    if (typeof src === 'function') return src;\r\n    else if (src instanceof Array) {\r\n        const compiled = src.map(compile);\r\n        return input => compiled.map(transformer => transformer(input));\r\n    } else if (typeof src === 'object') {\r\n        const compiled = map(src, compile);\r\n        return input => map(compiled, transformer => transformer(input));\r\n    }\r\n    throw new Error(`Unable to compile: ${src}.`);\r\n};\r\n\r\n// helper methods\r\nconst asFlag = input => !!input;\r\nconst onWhen = (mapper, predicate, src) => {\r\n    const compiled = compile(src);\r\n    return input => (predicate(mapper(input)) ? compiled(mapper(input)) : null);\r\n};\r\nconst on = (mapper, src) => onWhen(mapper, () => true, src);\r\nconst exists = (input) => {\r\n    if (typeof input === 'undefined' || input === null) return false;\r\n    if (input instanceof Array) return input.length !== 0;\r\n    if (typeof input === 'object') return Object.keys(input).length !== 0;\r\n    return false;\r\n};\r\nconst onExist = (mapper, src) => onWhen(mapper, exists, src);\r\nconst convertNames = (...names) => names\r\n    .map((nameOrArr) => {\r\n        if (nameOrArr instanceof Array && nameOrArr.length >= 2) {\r\n            const [name, fn] = nameOrArr;\r\n            if (!(typeof name === 'string') || !(fn instanceof Function)) return null;\r\n            return { name, fn };\r\n        } else if (typeof nameOrArr === 'string') return { name: nameOrArr, fn: n => n };\r\n        return null;\r\n    });\r\nconst spread = (...names) => {\r\n    const src = {};\r\n    convertNames(...names).forEach((converted, index) => {\r\n        if (converted === null) return;\r\n        const { name, fn } = converted;\r\n        src[name] = a => fn(a[index]);\r\n    });\r\n    return src;\r\n};\r\nconst spreadObj = (...names) => {\r\n    const src = {};\r\n    convertNames(...names)\r\n        .filter(converted => converted !== null)\r\n        .forEach(({ name, fn }) => { src[name] = o => fn(o[name]); });\r\n    return src;\r\n};\r\n\r\n// definitions\r\nconst danmuMsg = compile(on(m => m.info, {\r\n    timestamp: i => i[0][4],\r\n    content: i => i[1],\r\n    sender: on(i => i[2], spread('uid', 'name', ['isOwner', asFlag], ['isVip', asFlag], ['isSvip', asFlag])),\r\n    badge: onExist(i => i[3], spread('level', 'name', 'owner', 'roomId')),\r\n    ul: on(i => i[4], {\r\n        ranking: u => u[3],\r\n        level: u => u[0],\r\n    }),\r\n    medal: onExist(i => i[5], spread('first', 'second')),\r\n}));\r\nconst sysMsg = compile({\r\n    ...spreadObj('msg', 'rep', 'styleType', 'url'),\r\n    msgText: m => m.msg_text,\r\n    realRoomId: m => m.real_roomid,\r\n    roomId: m => m.roomid,\r\n});\r\nconst userSrc = {\r\n    ...spreadObj('face', 'uid'),\r\n    guardLevel: o => o.guard_level,\r\n    name: o => o.uname,\r\n};\r\nconst parseTopUser = compile({\r\n    ...userSrc,\r\n    ...spreadObj('rank', 'score', ['isSelf', asFlag]),\r\n});\r\nconst sendGift = compile(on(m => m.data, {\r\n    ...spreadObj('giftName', 'giftId', 'giftType', 'num', 'remain', 'price', 'action', 'timestamp'),\r\n    sender: userSrc,\r\n    left: onWhen(m => m, m => m.gold > 0 && m.silver > 0, spreadObj('gold', 'silver')),\r\n    topList: on(d => d.top_list, [\r\n        on(l => l[0], parseTopUser),\r\n        on(l => l[1], parseTopUser),\r\n        on(l => l[2], parseTopUser),\r\n    ]),\r\n    coinType: d => d.coin_type,\r\n    totalCoin: d => d.total_coin,\r\n    superGiftNum: d => d.super_gift_num,\r\n    effectBlock: d => d.effect_block,\r\n}));\r\nconst roomRank = compile(on(m => m.data, {\r\n    ...spreadObj('timestamp', 'color'),\r\n    roomId: d => d.roomid,\r\n    rank: d => d.rank_desc,\r\n    h5Url: d => d.h5_url,\r\n    webUrl: d => d.web_url,\r\n}));\r\nconst welcome = compile(on(m => m.data, {\r\n    uid: d => d.uid,\r\n    name: d => d.uname,\r\n    isAdmin: d => asFlag(d.is_admin),\r\n    isVip: d => ('vip' in d && d.vip === 1) || ('svip' in d && d.svip === 1),\r\n    isSvip: d => ('svip' in d && d.svip === 1),\r\n}));\r\nconst welcomeGuard = compile(on(m => m.data, {\r\n    uid: d => d.uid,\r\n    name: d => d.username,\r\n    guardLevel: d => d.guard_level,\r\n}));\r\nconst comboEnd = compile(on(m => m.data, {\r\n    price: d => d.price,\r\n    gitId: d => d.gift_id,\r\n    giftName: d => d.gift_name,\r\n    comboNum: d => d.combo_num,\r\n    name: d => d.uname, // sender name\r\n    owner: d => d.r_uname, // name of room owner\r\n    startTime: d => d.start_time,\r\n    endTime: d => d.end_time,\r\n}));\r\n\r\n// transformer\r\nclass Transformer {\r\n    constructor(name, fn) {\r\n        this.name = name;\r\n        this.fn = fn;\r\n    }\r\n\r\n    transform(input) {\r\n        return this.fn(input);\r\n    }\r\n}\r\n\r\nconst transformers = {\r\n    DANMU_MSG: new Transformer('danmaku', danmuMsg),\r\n    SYS_MSG: new Transformer('sysMsg', sysMsg),\r\n    SEND_GIFT: new Transformer('gift', sendGift),\r\n    ROOM_RANK: new Transformer('roomRank', roomRank),\r\n    WELCOME: new Transformer('vipEnter', welcome),\r\n    WELCOME_GUARD: new Transformer('guardEnter', welcomeGuard),\r\n    COMBO_END: new Transformer('comboEnd', comboEnd),\r\n};\r\n\r\nmodule.exports = {\r\n    _private: { // for testing\r\n        map, compile, asFlag, onWhen, on, exists, onExist, convertNames, spread, spreadObj,\r\n    },\r\n\r\n    Transformer,\r\n    ...transformers,\r\n    events: Object.keys(transformers).map(key => transformers[key].name),\r\n    all: transformers,\r\n};\r\n","/**\r\n * The middlewares module.\r\n * This module contain the class definition of Middleware and implementations of most\r\n * middlewares used by DanmakuClient. Up till now, only the middleware that manages\r\n * the lifecycle of DanmakuClient isn't included in middlewares.js, which has good\r\n * reasons to do so. For more information, see documentation of manageLifecycle in\r\n * DanmakuClient.js.\r\n *\r\n * When writing new Middlewares, it is recommended that implementations only take\r\n * advantage of the following knowledge to avoid breaking functionalities\r\n * accidentally:\r\n * 1. DanmakuClient extends EventEmitter, and 'terminating' is a reserved event name.\r\n * 2. config() of middleware takes a SectorSocket, a merged conf object, and a\r\n *    DanmakuClient instance as arguments.\r\n * 3. Raw conf objects are merged with the default conf object using lodash.defaultsDeep().\r\n *\r\n * @module biliDanmakuClient/middlewares\r\n */\r\n\r\nconst defaultsDeep = require('lodash.defaultsdeep');\r\nconst log = require('debug')('bilibili-danmaku-client/middlewares');\r\n\r\nconst { InitSector, InitAckSector, HeartbeatSector, DataSector } = require('./sectors');\r\nconst { all } = require('./transformers');\r\n\r\n/**\r\n * Middleware are used to config the SectorSocket and the DanmakuClient instance.\r\n * Middleware instances can be reused arbitrary times, across different SectorSocket\r\n * and DanmakuClient instances. In fact, it can be called multiple times in an\r\n * keepAlive connection.\r\n */\r\nclass Middleware {\r\n    /**\r\n     * Constructs the Middleware instance.\r\n     * Different middlewares do not create new classes. Instead, middlewares are merely\r\n     * a config function and a default conf object, and using the constructor of\r\n     * Middleware to create instances. The Middleware class is to enable the\r\n     * middleware.config() pattern and add conf merging ability.\r\n     *\r\n     * @param {Function} config The config function.\r\n     * @param {*} defaultConf The default conf object, optional.\r\n     * @see #config\r\n     */\r\n    constructor(config, defaultConf = {}) {\r\n        this.configFn = config;\r\n        this.defaultConf = defaultConf;\r\n    }\r\n\r\n    /**\r\n     * Config the Middleware with the given parameters.\r\n     * The conf parameter is the raw input without default values, since config()\r\n     * merges it with this.defaultConf and builds the actual conf object and call\r\n     * this.configFn() to run the configuration.\r\n     *\r\n     * There are some attributes that are merged automatically and do not need\r\n     * to be merged by middlewares:\r\n     *     url: The url that the SectorSocket is connecting to.\r\n     *     room: The room that the SectorSocket is watching.\r\n     *     uid: The contextual user id. 0 if not specified.\r\n     *     options: The options object passed into constructor of Websocket, to support\r\n     *              customization of the connection.\r\n     *\r\n     * @param {SectorSocket} ws The SectorSocket instance.\r\n     * @param {*} conf The raw config object.\r\n     * @param {DanmakuClient} client The DanmakuClient instance.\r\n     */\r\n    config(ws, conf, client) {\r\n        const merged = defaultsDeep(conf, this.defaultConf);\r\n        this.configFn(ws, merged, client);\r\n    }\r\n}\r\n\r\nconst sendInitial = new Middleware(\r\n    (ws, conf) => ws.on('open', () => {\r\n        ws.send(new InitSector({\r\n            ...conf.initial,\r\n            uid: conf.uid,\r\n            roomid: conf.room,\r\n        }));\r\n    }), {\r\n        initial: {\r\n            protover: 1,\r\n            platform: 'web',\r\n            clientver: '1.4.3',\r\n        },\r\n    },\r\n);\r\n\r\nconst invokeTransformer = new Middleware(\r\n    (ws, conf, client) => {\r\n        ws.on('sector', (sector) => {\r\n            if (!(sector instanceof DataSector)) return;\r\n            const msg = sector.data;\r\n            if (!('cmd' in msg)) return;\r\n            if (msg.cmd in conf.transformers) {\r\n                const transformer = conf.transformers[msg.cmd];\r\n                client.emit(transformer.name, transformer.transform(msg));\r\n            } else {\r\n                log('Untransformed data sector:');\r\n                log(msg);\r\n            }\r\n        });\r\n    }, {\r\n        transformers: all,\r\n        logUntransformed: true,\r\n    },\r\n);\r\n\r\nconst sendHeartbeat = new Middleware(\r\n    (ws, conf) => {\r\n        if (!conf.heartbeat.enabled) return;\r\n        const handle = setInterval(() => ws.send(new HeartbeatSector()), conf.heartbeat.interval);\r\n        const clear = () => clearInterval(handle);\r\n        ws.on('close', clear);\r\n        ws.on('error', clear);\r\n    }, {\r\n        heartbeat: {\r\n            enabled: true,\r\n            interval: 30000, // 30s\r\n        },\r\n    },\r\n);\r\n\r\nconst logLifecycle = new Middleware(\r\n    (ws, conf) => {\r\n        if (!conf.logging) return;\r\n        log(`Connecting to ${conf.url}...`);\r\n        ws.on('open', () => log('Connection opened, sending initial sector...'));\r\n        ws.on('sector', (sector) => {\r\n            if (sector instanceof InitAckSector) {\r\n                log(`Init ACK Sector received: room=${conf.room}, uid=${conf.uid}.`);\r\n            }\r\n        });\r\n        ws.on('close', (code, reason) => log(`Connection closed: code=${code}, reason=${reason}.`));\r\n        ws.on('error', error => log(`Server error: ${error}`));\r\n    }, {\r\n        logging: true,\r\n    },\r\n);\r\n\r\nconst middlewares = {\r\n    sendInitial,\r\n    invokeTransformer,\r\n    sendHeartbeat,\r\n    logLifecycle,\r\n};\r\n\r\nmodule.exports = {\r\n    Middleware,\r\n    ...middlewares,\r\n    all: Object.keys(middlewares).map(key => middlewares[key]),\r\n};\r\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","/**\r\n * The encoding module.\r\n * This module implements the protocol used by Bilibili Live Danmaku Client & Server\r\n * in the WebSocket binary frames. In particular, the encoding from string to binary\r\n * data is implemented here.\r\n *\r\n * DETAILS\r\n * A binary frame in the WebSocket between the client and the server constructs of\r\n * 1 or more sectors. Every SECTOR has a 16-byte HEADER part and a CONTENT part of\r\n * arbitrary length.\r\n * Let the length of the CONTENT part be LEN (in bytes), then the HEADER part is\r\n * encoded as follows: (Note that all definitions are based on guesswork, not actual\r\n * standards, and might change in the future)\r\n * BYTES 0                   1\r\n *       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5\r\n *      +-------+-+-+-+-+-----+-+-----+-+\r\n *      |  LEN  |0|1|0|C|  0  |T|  0  |C|\r\n *      |  +16  |0|0|0|F|  0  |Y|  0  |F|\r\n *      +-------+-+-+-+-+-----+-+-----+-+\r\n * CF (Control Flag): 1 if this SECTOR is a control sector (heartbeat & ack,\r\n * initialilzation & ack), 0 if not.\r\n * TY (Type): The type of this SECTOR, known values are:\r\n *    02: Heartbeat sector.\r\n *    03: Heartbeat ACK sector.\r\n *    05: JSON data sector.\r\n *    07: Initialization sector.\r\n *    08. Initialization ACK sector.\r\n *\r\n * Since one frame can contain multiple sectors, during decoding the first 4 bytes\r\n * of the HEADER part is used to determint the length of each SECTOR, so that the next\r\n * SECTOR can be found where the previous one ends. During encoding, sectors are simply\r\n * concantenated.\r\n *\r\n * For more information about what each sector does, see sectors.js.\r\n *\r\n * @module biliDanmakuClient/encoding\r\n */\r\n\r\nconst { Buffer } = require('buffer');\r\nconst isEqual = require('lodash.isequal');\r\n\r\nconst { HeartbeatSector, HeartbeatAckSector, DataSector, InitSector, InitAckSector } = require('./sectors');\r\n\r\n/**\r\n * A Map beteen constructors of different sector types and the corresponding metadata.\r\n */\r\nconst sector2meta = new Map();\r\nsector2meta.set(HeartbeatSector, { control: true, type: 0x02 });\r\nsector2meta.set(HeartbeatAckSector, { control: true, type: 0x03 });\r\nsector2meta.set(DataSector, { control: false, type: 0x05 });\r\nsector2meta.set(InitSector, { control: true, type: 0x07 });\r\nsector2meta.set(InitAckSector, { control: true, type: 0x08 });\r\n\r\n/**\r\n * Encode one Sector into Buffer.\r\n * It assumes that Object.getPrototypeOf(sector).constructor exists and is the correct\r\n * constructor. Otherwise, the behaviour is undefined.\r\n *\r\n * @param {Sector} sector The Sector to encode.\r\n */\r\nconst encodeOne = (sector) => {\r\n    const content = sector.encode();\r\n    // assume constructor exists\r\n    const metadata = sector2meta.get(Object.getPrototypeOf(sector).constructor);\r\n\r\n    const header = Buffer.alloc(16);\r\n    header.writeInt32BE(content.length + 16, 0);\r\n    header[5] = 0x10;\r\n    header[7] = metadata.control ? 0x01 : 0x00;\r\n    header[11] = metadata.type;\r\n    header[15] = metadata.control ? 0x01 : 0x00;\r\n\r\n    return Buffer.concat([header, content]);\r\n};\r\n\r\n/**\r\n * Decode one Sector and calculate the offset of the next Sector.\r\n * This method assumes that the buffer is sufficient for the current Sector. Otherwise,\r\n * the behavior is undefined.\r\n * The return value is:\r\n * {\r\n *     sector: {Sector} The decoded sector.\r\n *     newOffset: {Number} The new offset.\r\n * }\r\n * Implementation should use newOffset to replace the offset passed to decodeOne directly.\r\n *\r\n * @param {Buffer} buf The Buffer to decode.\r\n * @param {Number} offset The starting offset to decode.\r\n */\r\nconst decodeOne = (buf, offset) => {\r\n    // extract metadata from header\r\n    const len = buf.readInt32BE(offset) - 16;\r\n    const metadata = {\r\n        control: buf[offset + 7] === 0x01,\r\n        type: buf[offset + 11],\r\n    };\r\n\r\n    // find type\r\n    const entry = Array.from(sector2meta.entries()).find(([, value]) => isEqual(value, metadata));\r\n    if (typeof entry === 'undefined') {\r\n        throw new Error(`Unrecognized header: ${JSON.stringify(metadata)}`);\r\n    }\r\n    const type = entry[0];\r\n\r\n    // construct sector object\r\n    return {\r\n        sector: type.decode(type, buf.slice(offset + 16, offset + len + 16)),\r\n        newOffset: offset + len + 16,\r\n    };\r\n};\r\n\r\n/**\r\n * Encode the given sectors into a Buffer.\r\n * The sectors will be encoded in order.\r\n * The returned Buffer should be passed directly to WebSocket.send().\r\n *\r\n * @param {Sector[]} sectors The sectors to encode.\r\n * @returns {Buffer} The encoded Buffer.\r\n */\r\nconst encode = (...sectors) => Buffer.concat(sectors.map(encodeOne));\r\n\r\n/**\r\n * Decode the given Buffer and return the sectors.\r\n * This method assumes that the input Buffer is valid. On invalid input, an Error\r\n * might be thrown.\r\n *\r\n * @param {Buffer} buf The Buffer to decode.\r\n * @returns {Sector[]} The decoded sectors.\r\n */\r\nconst decode = (buf) => {\r\n    const sectors = [];\r\n\r\n    let offset = 0;\r\n    while (offset < buf.length) {\r\n        const { sector, newOffset } = decodeOne(buf, offset);\r\n        sectors.push(sector);\r\n        offset = newOffset;\r\n    }\r\n\r\n    if (offset !== buf.length) {\r\n        throw new Error(`Invalid Buffer: len=${buf.length}, off=${offset}, buf=${buf.toString('hex')}.`);\r\n    }\r\n\r\n    return sectors;\r\n};\r\n\r\nmodule.exports = { encode, decode };\r\n","const EventEmitter = require('events');\r\nconst { Buffer } = require('buffer');\r\n\r\nconst callWhenExist = (fn, ...args) => { if (typeof fn === 'function') fn(...args); };\r\nconst synchronize = (src, dst, name, readonly = false) => {\r\n    Object.defineProperty(dst, name, {\r\n        enumerable: true,\r\n        get() { return src[name]; },\r\n        ...(readonly ? {\r\n            writable: false,\r\n        } : {\r\n            set(value) { src[name] = value; }, // eslint-disable-line no-param-reassign\r\n        }),\r\n    });\r\n};\r\n\r\nclass MockWebSocket extends EventEmitter {\r\n    constructor(url, protocols) {\r\n        super();\r\n\r\n        Object.defineProperty(this, 'ws', {\r\n            value: new WebSocket(url, protocols),\r\n            writable: false,\r\n            enumerable: true,\r\n        });\r\n\r\n        this.ws.addEventListener('open', () => this.emit('open'));\r\n        this.ws.addEventListener('open', () => callWhenExist(this.onopen));\r\n        this.ws.addEventListener('close', ({ code, reason }) => this.emit('close', code, reason));\r\n        this.ws.addEventListener('close', e => callWhenExist(this.onclose, e));\r\n        this.ws.addEventListener('error', (e) => {\r\n            const error = e.error || new Error('Server error'); // non-null\r\n            this.emit('error', error);\r\n            callWhenExist(this.onerror, error);\r\n        });\r\n\r\n        this.ws.addEventListener('message', (event) => {\r\n            const transformed = this.transformMessage(event.data);\r\n            this.emit('message', transformed);\r\n            const transformedEvent = transformed === event.data ? event : new MessageEvent(\r\n                event.type, {\r\n                    data: transformed,\r\n                    origin: event.origin,\r\n                    lastEventId: event.lastEventId,\r\n                    source: event.source,\r\n                    ports: event.ports,\r\n                });\r\n            callWhenExist(this.onmessage, transformedEvent);\r\n        });\r\n\r\n        synchronize(this, this.ws, 'protocol');\r\n        synchronize(this, this.ws, 'readyState', true);\r\n        synchronize(this, this.ws, 'url', true);\r\n        synchronize(this, this.ws, 'bufferedAmount', true);\r\n        synchronize(this, this.ws, 'extensions');\r\n\r\n        let binaryType = 'nodebuffer';\r\n        this.ws.binaryType = 'arraybuffer';\r\n        Object.defineProperty(this, 'binaryType', {\r\n            enumerable: true,\r\n            get() {\r\n                return binaryType;\r\n            },\r\n            set(value) {\r\n                binaryType = value;\r\n                this.ws.binaryType = value === 'nodebuffer' ? 'arraybuffer' : value;\r\n            },\r\n        });\r\n    }\r\n\r\n    transformMessage(data) {\r\n        if (this.binaryType !== 'nodebuffer') return data;\r\n        return Buffer.from(data);\r\n    }\r\n\r\n    send(data, _, callback) {\r\n        // since Buffers are Uint8Arrays, they can be sent directly\r\n        this.ws.send(data);\r\n        callWhenExist(callback);\r\n    }\r\n\r\n    close(code, reason) {\r\n        this.ws.close(code, reason);\r\n    }\r\n\r\n    terminate() {\r\n        this.close();\r\n    }\r\n}\r\n\r\nmodule.exports = MockWebSocket;\r\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","const WebSocket = require('x-platform-ws');\r\nconst EventEmitter = require('events');\r\n\r\nconst { encode, decode } = require('./encoding');\r\n\r\n/**\r\n * SectorSocket is a wrapper WebSocket transfering only Sectors, by conforming to the\r\n * internal protocols of the Bilibili Live Websocket Interface.\r\n * Sectors are defined in ./sectors.js.\r\n *\r\n * EVENTS\r\n * 'open': When this socket is opened.\r\n * 'close': When this socket is closed. arg(s): code, reason\r\n * 'error': When the server sends an error. arg(s): error\r\n * 'sector': When a sector is received. arg(s): sector\r\n */\r\nclass SectorSocket extends EventEmitter {\r\n    /**\r\n     * Construct a new SectorSocket object, connecting to the given url.\r\n     * The 'options' parameter is used to enable customization of the WebSocket connection,\r\n     * like setting the proxy, adding headers, etc.. For more details, see documentation\r\n     * of ws.\r\n     * Note that the WebSocket will be opening after this constructor returns, however, due\r\n     * to the single-thread nature of Javascript, it is still possible to add middlewares\r\n     * with use.\r\n     *\r\n     * @param {string} url The url to connect to.\r\n     * @param {*} options The options used to customize the WebSocket connection, optional.\r\n     * @see use\r\n     */\r\n    constructor(url, options = {}) {\r\n        super();\r\n\r\n        const ws = new WebSocket(url, null, options);\r\n        this.ws = ws;\r\n        ws.on('message', this.onMessage.bind(this));\r\n        ['open', 'close', 'error'].forEach((eventName) => {\r\n            ws.on(eventName, (...args) => this.emit(eventName, ...args));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Use the middleware for the current SectorSocket.\r\n     * This method should be called directly after the SectorSocket() constructor.\r\n     * Middlewares are used to add functionality to this plain socket, while enhancing\r\n     * modularization. The idea was taken from the Express middlewares.\r\n     * Middlewares are functions, invoked only once, at the invocation of use(), taking\r\n     * the current SectorSocket object as argument.\r\n     * It is typical to add listeners in middlewares, since SectorSocket extends\r\n     * EventEmitter.\r\n     * It is safe to assume that the SectorSocket is not yet opened nor closed then the\r\n     * middleware is applied.\r\n     *\r\n     * @param {Function} middleware The middleware to use.\r\n     */\r\n    use(middleware) {\r\n        middleware(this);\r\n    }\r\n\r\n    /**\r\n     * Called on the 'message' event of the underlying WebSocket, decoding Buffer or\r\n     * Buffer[] data to sectors and emitting 'sector' events.\r\n     * This is an internal method.\r\n     *\r\n     * @param {string|Buffer|Buffer[]} data The data of the message.\r\n     */\r\n    onMessage(data) {\r\n        const onBuffer = buf => decode(buf).forEach(sector => this.emit('sector', sector));\r\n        if (data instanceof Buffer) onBuffer(data);\r\n        else if (data instanceof Array) {\r\n            data.filter(el => el instanceof Buffer).forEach(onBuffer);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Send the given sectors, one by one.\r\n     * The sectors are first encoded into Buffers and then send by the WebSocket.\r\n     * For more details about the encoding process, see encoding.js\r\n     *\r\n     * @param {Sector[]} sectors The sectors to send.\r\n     */\r\n    send(...sectors) {\r\n        this.ws.send(encode(...sectors));\r\n    }\r\n\r\n    /**\r\n     * Terminate the socket.\r\n     * Note that an 'close' event will be emitted after terminate().\r\n     * Behavior of calling other methods on the SectorSocket instance after terminate is\r\n     * undefined and should be avoided.\r\n     */\r\n    terminate() {\r\n        this.ws.terminate();\r\n    }\r\n}\r\n\r\nmodule.exports = SectorSocket;\r\n","const EventEmitter = require('events');\r\nconst defaultsDeep = require('lodash.defaultsdeep');\r\nconst log = require('debug')('bilibili-danmaku-client/client');\r\n\r\nconst SectorSocket = require('./SectorSocket');\r\nconst { Middleware, all } = require('./middlewares');\r\n\r\n// TODO: make this more elegant.\r\n/**\r\n * The Middleware that manages the lifecycle of DanmakuClient.\r\n * This middleware is necessary for DanmakuClient to work correctly and is so closely\r\n * related to the internal mechanics of DanmakuClient so that it must be placed in\r\n * DanmakuClient.js.\r\n *\r\n * Lifecycle of DanmakuClient instance are described with their state attribute.\r\n * A list of all possible lifecycle states are:\r\n * 'idle': When the client is not yet started.\r\n * 'connecting': When the client is started and trying to connect to the remote server.\r\n * 'opened': When the WebSocket connection is opened and ready to send and receive data.\r\n * 'reconnecting': When the DanmakuClient is in keepAlive mode and waiting to reconnect.\r\n * 'terminating': When the termination is request and waiting for the actual termination\r\n *     to take place.\r\n * 'terminated': When the client is terminated.\r\n *\r\n * Each DanmakuClient has a mode, keepAlive or non-keepAlive, configured by setting\r\n * conf.keepAlive.enabled.\r\n * In non-keepAlive mode, the client terminates directly after the WebSocket is closed\r\n * or gets an error. In keepAlive mode, the client waits for some time interval and then\r\n * tries to reconnecto to the server again.\r\n *\r\n * State transitions are as follows:\r\n * Start from 'idle'.\r\n * 'idle' -> 'connecting' on start()\r\n * 'connecting' -> 'terminated' on non-keepAlive and connection error\r\n *              -> 'opened' on successful connection\r\n *              -> 'terminating' on terminate()\r\n * 'opened' -> 'terminated' on non-keepAlive and connection close / error\r\n *          -> 'reconnecting' on keepAlive and connection close / error\r\n *          -> 'terminating' on terminate()\r\n * 'reconnecting' -> 'connecting' after some time interval\r\n *                -> 'terminating' on terminate()\r\n * 'terminating' -> 'terminated' on connection close / next setState() call\r\n * 'terminated' is the final state.\r\n */\r\nconst manageLifecycle = new Middleware(\r\n    (ws, conf, client) => {\r\n        // If terminate is requested, switch to terminated and return false, else return true.\r\n        const checkTerminate = () => {\r\n            if (client.state === 'terminating') {\r\n                client.setState('terminated');\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n\r\n        if (!checkTerminate()) return;\r\n        client.setState('connecting');\r\n        ws.on('open', () => { if (checkTerminate()) client.setState('opened'); });\r\n\r\n        const closeAction = conf.keepAlive.enabled ? () => {\r\n            if (!checkTerminate()) return;\r\n            if (client.state === 'reconnecting') return;\r\n\r\n            const reconnStr = conf.keepAlive.reconnectInterval.toFixed(0);\r\n            log(`Connection to ${conf.url} closed / got an error while in keepAlive mode, therefore DanmakuClient will auto-reconnect after ${reconnStr} seconds.`);\r\n            log('To terminate the client, call terminate().');\r\n            client.setState('reconnecting');\r\n\r\n            const reconnect = () => { if (checkTerminate()) client.connect(); };\r\n            setTimeout(reconnect, conf.keepAlive.reconnectInterval);\r\n        } : () => { if (checkTerminate()) client.setState('terminated'); };\r\n        ['close', 'error'].forEach(name => ws.on(name, closeAction));\r\n\r\n        client.once('terminate', () => ws.terminate());\r\n    }, {\r\n        keepAlive: {\r\n            enabled: true,\r\n            reconnectInterval: 5000,\r\n        },\r\n    },\r\n);\r\n\r\nconst defaultConf = {\r\n    url: 'wss://broadcastlv.chat.bilibili.com:2245/sub',\r\n    room: 1,\r\n    uid: 0, // without a user\r\n    middlewares: all, // use all middlwares\r\n    options: { rejectUnauthorized: false }, // avoid unauthorized error\r\n};\r\n\r\nclass DanmakuClient extends EventEmitter {\r\n    /**\r\n     * Constructs the DanmakuClient instance.\r\n     * After initialization, the state of this DanmakuClient is set to 'idle',\r\n     * applications should call start() to actually start the client.\r\n     *\r\n     * @param {*} conf The conf object.\r\n     */\r\n    constructor(conf) {\r\n        super();\r\n        this.conf = defaultsDeep(conf, defaultConf);\r\n        this.state = 'idle';\r\n    }\r\n\r\n    /**\r\n     * Build connection to the Danmaku server, configurating all the middlewares.\r\n     * The socket is not saved in the DanmakuClient interface, applications should use\r\n     * middlewares to add functionality.\r\n     * This is an internal method.\r\n     * For details of how this methods works, see documentation of manageLifecycle.\r\n     */\r\n    connect() {\r\n        const socket = new SectorSocket(this.conf.url, this.conf.options);\r\n        [...this.conf.middlewares, manageLifecycle]\r\n            .forEach(middleware => middleware.config(socket, this.conf, this));\r\n    }\r\n\r\n    /**\r\n     * Start this DanmakuClient.\r\n     * The DanmakuClient instance can be started only when its state is 'idle'.\r\n     * For details of how this methods works, see documentation of manageLifecycle.\r\n     */\r\n    start() {\r\n        if (this.state === 'idle') this.connect();\r\n    }\r\n\r\n    /**\r\n     * Terminate this DanmakuClient.\r\n     * On terminate(), the client isn't terminated immediately. In fact, it first\r\n     * switches to 'terminating' state, and will eventually switch to 'terminated'\r\n     * state after some time.\r\n     * If the current state is 'terminating', 'terminated' or 'idle', nothing happens.\r\n     * For details of how this methods works, see documentation of manageLifecycle.\r\n     */\r\n    terminate() {\r\n        if (['terminating', 'terminated', 'idle'].indexOf(this.state) !== -1) return;\r\n        this.setState('terminating');\r\n        this.emit('terminate');\r\n    }\r\n\r\n    /**\r\n     * Set the current state of this DanmakuClient.\r\n     * States MUST be switched using this method, except in the constructor. setState()\r\n     * sets the state and emits an event with the name being the new state so that\r\n     * applications can listen to the lifecycle changes of the client.\r\n     * This is an internal method.\r\n     *\r\n     * @param {string} state The state to switch to.\r\n     */\r\n    setState(state) {\r\n        if (this.state !== state) {\r\n            this.state = state;\r\n            this.emit(state);\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = DanmakuClient;\r\n","const DanmakuClient = require('./DanmakuClient');\r\n\r\nmodule.exports = DanmakuClient;\r\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import debug from 'debug';\r\nimport DanmakuClient from '@std4453/bilibili-danmaku-client';\r\n\r\nlocalStorage.debug = '*';\r\nconst log = debug('bilibili-danmaku-client-site');\r\n\r\nconst client = new DanmakuClient();\r\nclient.start();\r\n\r\nclient.on('danmaku', event => log(`${event.sender.name}: ${event.content}`));\r\nclient.on('sysMsg', event => log(event.msgText));\r\nclient.on('gift', event => log(`${event.sender.name} => ${event.giftName} * ${event.num}`));\r\nclient.on('vipEnter', event => log(`welcome vip ${event.name}`));\r\nclient.on('guardEnter', event => log(`welcome guard ${event.name}`));\r\nclient.on('comboEnd', event => log(`[all] ${event.name} => ${event.giftName} * ${event.comboNum}`));\r\n"],"sourceRoot":""}
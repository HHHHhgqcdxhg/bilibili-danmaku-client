{"version":3,"sources":["../../src/transformers/compile.js"],"names":["require","map","mapValues","isArray","isObject","compile","src","compiled","transformer","input","Error","module","exports"],"mappings":";;eAA8CA,QAAQ,QAAR,C;IAAtCC,G,YAAAA,G;IAAKC,S,YAAAA,S;IAAWC,O,YAAAA,O;IAASC,Q,YAAAA,Q,EAEjC;;;AACA,IAAMC,UAAU,SAAVA,OAAU,CAACC,GAAD,EAAS;AACrB,MAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B,OAAOA,GAAP,CAA/B,KACK,IAAIH,QAAQG,GAAR,CAAJ,EAAkB;AACnB,QAAMC,WAAWN,IAAIK,GAAJ,EAASD,OAAT,CAAjB;AACA,WAAO;AAAA,aAASJ,IAAIM,QAAJ,EAAc;AAAA,eAAeC,YAAYC,KAAZ,CAAf;AAAA,OAAd,CAAT;AAAA,KAAP;AACH,GAHI,MAGE,IAAIL,SAASE,GAAT,CAAJ,EAAmB;AACtB,QAAMC,YAAWL,UAAUI,GAAV,EAAeD,OAAf,CAAjB;;AACA,WAAO;AAAA,aAASH,UAAUK,SAAV,EAAoB;AAAA,eAAeC,YAAYC,KAAZ,CAAf;AAAA,OAApB,CAAT;AAAA,KAAP;AACH;AACD,QAAM,IAAIC,KAAJ,yBAAgCJ,GAAhC,OAAN;AACH,CAVD;;AAYAK,OAAOC,OAAP,GAAiBP,OAAjB","sourcesContent":["const { map, mapValues, isArray, isObject } = require('lodash');\r\n\r\n// compiler\r\nconst compile = (src) => {\r\n    if (typeof src === 'function') return src;\r\n    else if (isArray(src)) {\r\n        const compiled = map(src, compile);\r\n        return input => map(compiled, transformer => transformer(input));\r\n    } else if (isObject(src)) {\r\n        const compiled = mapValues(src, compile);\r\n        return input => mapValues(compiled, transformer => transformer(input));\r\n    }\r\n    throw new Error(`Unable to compile: ${src}.`);\r\n};\r\n\r\nmodule.exports = compile;\r\n"],"file":"compile.js"}